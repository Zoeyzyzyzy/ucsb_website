<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Computer Science 291A</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Computer Science 291A</a>
          </div>
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
              <li class="active"><a href="/lecture/">Lecture Schedule</a></li>
              <li class="active"><a href="/project0/">Project 0</a></li>
              <li class="active"><a href="/project1/">Project 1</a></li>
              <li class="active"><a href="/project2/">Project 2</a></li>
              <li class="active"><a href="/project3/">Project 3</a></li>
              <li class="active"><a href="/project/">Primary Project</a></li></ul>
          </div>
        </div>
      </div>
    </div>


<div class="container container-left">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar well">
  Scalable Internet Services, CS291A, Fall 2019

</div>

<div class="sidebar well">
  <h1 id="course-information">Course Information</h1>

<h4 id="instructor">Instructor</h4>

<p><a href="https://sites.cs.ucsb.edu/~bboe/">Dr. Bryce Boe</a><br />
<a href="mailto:bboe@cs.ucsb.edu">bboe@cs.ucsb.edu</a></p>

<h4 id="class-assistant">Class Assistant</h4>

<p><a href="https://justinppearson.com">Dr. Justin Pearson</a></p>

<h4 id="lecture">Lecture</h4>

<p>Tuesday and Thursday<br />
3:00pm – 4:50pm<br />
<a href="http://mapdev.geog.ucsb.edu/?searchResult=%7B%22tags%22:%22PHELPS%20HALL%203526%20Phelps%20Hall%20PHELP%22,%22fid%22:%2252689%22,%22category%22:%22rooms%22,%22location%22:%22PHELPS%20HALL%203526%22,%22label%22:%22PHELPS%20HALL%203526%22,%22geometry%22:%7B%22type%22:%22polygon%22,%22rings%22:%5B%5B%5B-13341034.4778,4084817.0509%5D,%5B-13341034.4773,4084816.5569%5D,%5B-13341034.4697,4084809.2695%5D,%5B-13341034.4696,4084809.1151%5D,%5B-13341045.2894,4084809.1038%5D,%5B-13341045.2895,4084809.2582%5D,%5B-13341045.4124,4084809.258%5D,%5B-13341045.4131,4084809.9991%5D,%5B-13341045.4145,4084811.2343%5D,%5B-13341045.42,4084816.5454%5D,%5B-13341045.2969,4084816.5456%5D,%5B-13341045.2975,4084817.0396%5D,%5B-13341045.4204,4084817.0395%5D,%5B-13341045.4251,4084821.517%5D,%5B-13341045.4263,4084822.7521%5D,%5B-13341045.428,4084824.327%5D,%5B-13341045.305,4084824.3271%5D,%5B-13341045.3052,4084824.4815%5D,%5B-13341034.4854,4084824.4927%5D,%5B-13341034.4852,4084824.3383%5D,%5B-13341034.4778,4084817.0509%5D%5D%5D,%22_ring%22:0,%22spatialReference%22:%7B%22wkid%22:102100%7D,%22_centroid%22:null,%22_extent%22:%7B%22xmin%22:-13341045.428,%22ymin%22:4084809.1038,%22xmax%22:-13341034.4696,%22ymax%22:4084824.4927,%22spatialReference%22:%7B%22wkid%22:102100%7D%7D,%22_partwise%22:null%7D%7D&amp;xmin=-13341136&amp;ymin=4084737&amp;xmax=-13340944&amp;ymax=4084897">Phelps 3526</a></p>

<h4 id="lab">Lab</h4>

<p>Tuesday<br />
12pm – 1pm or 1pm – 2pm<br />
<a href="http://mapdev.geog.ucsb.edu/?searchResult=%7B%22tags%22:%22PHELPS%20HALL%203525%20Phelps%20Hall%20PHELP%22,%22fid%22:%2252693%22,%22category%22:%22rooms%22,%22location%22:%22PHELPS%20HALL%203525%22,%22label%22:%22PHELPS%20HALL%203525%22,%22geometry%22:%7B%22type%22:%22polygon%22,%22rings%22:%5B%5B%5B-13341048.8674,4084821.2355%5D,%5B-13341048.8631,4084817.0359%5D,%5B-13341048.986,4084817.0359%5D,%5B-13341048.9855,4084816.5418%5D,%5B-13341048.8625,4084816.5418%5D,%5B-13341048.858,4084812.0953%5D,%5B-13341048.8567,4084810.8602%5D,%5B-13341048.855,4084809.2545%5D,%5B-13341048.9781,4084809.2543%5D,%5B-13341048.9779,4084809.0999%5D,%5B-13341055.9861,4084809.0926%5D,%5B-13341056.6008,4084809.092%5D,%5B-13341059.7975,4084809.0887%5D,%5B-13341059.7977,4084809.2431%5D,%5B-13341059.8053,4084816.5305%5D,%5B-13341059.8058,4084817.0246%5D,%5B-13341059.8134,4084824.3119%5D,%5B-13341059.8135,4084824.4663%5D,%5B-13341048.9937,4084824.4776%5D,%5B-13341048.9936,4084824.3232%5D,%5B-13341048.8706,4084824.3234%5D,%5B-13341048.8686,4084822.4706%5D,%5B-13341048.8674,4084821.2355%5D%5D%5D,%22_ring%22:0,%22spatialReference%22:%7B%22wkid%22:102100%7D,%22_centroid%22:null,%22_extent%22:%7B%22xmin%22:-13341059.8135,%22ymin%22:4084809.0887,%22xmax%22:-13341048.855,%22ymax%22:4084824.4776,%22spatialReference%22:%7B%22wkid%22:102100%7D%7D,%22_partwise%22:null%7D%7D&amp;xmin=-13341150&amp;ymin=4084737&amp;xmax=-13340959&amp;ymax=4084897">Phelps 3525</a></p>

<h4 id="final-presentations">Final Presentations</h4>

<p>Thursday December 12<br />
4pm – 7pm<br />
<a href="http://mapdev.geog.ucsb.edu/?searchResult=%7B%22tags%22:%22PHELPS%20HALL%203526%20Phelps%20Hall%20PHELP%22,%22fid%22:%2252689%22,%22category%22:%22rooms%22,%22location%22:%22PHELPS%20HALL%203526%22,%22label%22:%22PHELPS%20HALL%203526%22,%22geometry%22:%7B%22type%22:%22polygon%22,%22rings%22:%5B%5B%5B-13341034.4778,4084817.0509%5D,%5B-13341034.4773,4084816.5569%5D,%5B-13341034.4697,4084809.2695%5D,%5B-13341034.4696,4084809.1151%5D,%5B-13341045.2894,4084809.1038%5D,%5B-13341045.2895,4084809.2582%5D,%5B-13341045.4124,4084809.258%5D,%5B-13341045.4131,4084809.9991%5D,%5B-13341045.4145,4084811.2343%5D,%5B-13341045.42,4084816.5454%5D,%5B-13341045.2969,4084816.5456%5D,%5B-13341045.2975,4084817.0396%5D,%5B-13341045.4204,4084817.0395%5D,%5B-13341045.4251,4084821.517%5D,%5B-13341045.4263,4084822.7521%5D,%5B-13341045.428,4084824.327%5D,%5B-13341045.305,4084824.3271%5D,%5B-13341045.3052,4084824.4815%5D,%5B-13341034.4854,4084824.4927%5D,%5B-13341034.4852,4084824.3383%5D,%5B-13341034.4778,4084817.0509%5D%5D%5D,%22_ring%22:0,%22spatialReference%22:%7B%22wkid%22:102100%7D,%22_centroid%22:null,%22_extent%22:%7B%22xmin%22:-13341045.428,%22ymin%22:4084809.1038,%22xmax%22:-13341034.4696,%22ymax%22:4084824.4927,%22spatialReference%22:%7B%22wkid%22:102100%7D%7D,%22_partwise%22:null%7D%7D&amp;xmin=-13341136&amp;ymin=4084737&amp;xmax=-13340944&amp;ymax=4084897">Phelps 3526</a></p>

<h4 id="class-resources">Class Resources</h4>

<p><a href="https://piazza.com/ucsb/fall2019/cs291a">Piazza</a> (class discussion)</p>

<p><a href="https://www.awseducate.com/Registration?apptype=student&amp;courseview=true">AWS Educate</a></p>

<p><a href="https://github.com/scalableinternetservices">Github</a></p>

<h4 id="textbooks">Textbooks</h4>

<p><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial">The Ruby On Rails Tutorial</a><br />
<em><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial">Available online</a>.</em></p>

<p><a href="https://www.amazon.com/High-Performance-Browser-Networking-performance/dp/1449344763">High Performance Browser Networking</a><br />
ISBN: 9781449344764<br />
<em><a href="https://hpbn.co/">Available online</a>.</em>
Note: The online version is slightly more up-to-date.</p>

</div>

    </div>
    <div class="col-md-9">
      <h1 id="primary-project">Primary Project</h1>

<p>Below is an approximate schedule for the primary project. As the quarter
progresses it’ll become more complete.</p>

<h2 id="objective">Objective</h2>

<p>The goal of the project is to gain hands-on experience in building and
deploying a scalable web service on the Internet. Using the latest web
technologies while learning how to tackle the scalability and fault-tolerance
concerns. This is a “learn by doing” course: the course project will form the
primary focus of the course with the lectures and discussion of research papers
providing background material. Each project will be conducted in an agile team
where students will build their own scalable, redundant web site using
fundamental web technologies and the Ruby on Rails framework.</p>

<h2 id="resources">Resources</h2>

<p>Throughout the project, you might find it helpful to go through a ruby on rails tutorial.</p>

<p>The following is fantastic:</p>

<ul>
  <li><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning">Ruby on Rails
Tutorial</a></li>
</ul>

<p>And Rail’s own tutorial is quite good as well:</p>

<ul>
  <li><a href="https://guides.rubyonrails.org/getting_started.html">Getting Started with Rails</a></li>
</ul>

<h2 id="project-sprint-schedule">Project Sprint Schedule</h2>

<p>All sprints end and begin with each week’s lab session, save for the last
sprint which does not have an ending lab session.</p>

<p>At the end of each sprint during lab section, you will need to do the
following:</p>

<ul>
  <li>Ensure all your completed stories are integrated on your master branch.</li>
  <li>Deploy your project using Elastic Beanstalk.</li>
  <li>Demo your deployed version and share the newly created features.</li>
  <li>Share any new load testing results.</li>
</ul>

<h4 id="sprint-1-october-29--november-5">Sprint 1: October 29 – November 5</h4>

<ul>
  <li>Form your team.
    <ul>
      <li>Decide on a team name</li>
      <li>One person on the team, message me on piazza with:
        <ul>
          <li>Your team name</li>
          <li>The name, and github username of all the team members</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Get access to your github respository (I’ll create that after the above)</li>
  <li>Get a new set of AWS credentials specific to your team.</li>
  <li>Deploy your initial rails code to Elastic Beanstalk.</li>
  <li>Complete <code class="highlighter-rouge">N</code> user stories, where <code class="highlighter-rouge">N</code> is the number of people on your team.</li>
  <li>Write a tsung load test encompassing your existing features.
    <ul>
      <li>Ensure that when it is run, there are no 4XX or 5XX level HTTP status
codes.</li>
    </ul>
  </li>
</ul>

<h4 id="sprint-2-november-5--november-12">Sprint 2: November 5 – November 12</h4>

<h4 id="sprint-3-november-12--november-19">Sprint 3: November 12 – November 19</h4>

<h4 id="sprint-4-november-19--november-26">Sprint 4: November 19 – November 26</h4>

<h4 id="sprint-5-november-26--december-3">Sprint 5: November 26 – December 3</h4>

<h4 id="sprint-6-december-3--december-6-short-sprint">Sprint 6: December 3 – December 6 (short sprint)</h4>

<ul>
  <li>Complete the project write-up (due Friday, December 6 by 19:59:59 PST).</li>
  <li>Prepare final presentation (present Thursday, December 12 between 4PM and
7PM).</li>
</ul>

<hr />

<h2 id="creating-a-new-rails-application-using-docker">Creating a New Rails Application Using Docker</h2>

<p>Assuming you have docker installed locally, follow the steps below to create a
new rails project using docker.</p>

<h3 id="prepare-the-project-directory">Prepare the project directory</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>PROJECTNAME
<span class="nb">cd </span>PROJECTNAME
<span class="nb">touch </span>Dockerfile Gemfile Gemfile.lock docker-compose.yml
</code></pre></div></div>

<p>Copy the following contents into <code class="highlighter-rouge">Dockerfile</code>:</p>

<div class="language-docker highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> ruby</span>

<span class="k">RUN </span>curl <span class="nt">-sS</span> https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add <span class="se">\
</span>  <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"deb https://dl.yarnpkg.com/debian/ stable main"</span> <span class="o">&gt;</span> /etc/apt/sources.list.d/yarn.list <span class="se">\
</span>  <span class="o">&amp;&amp;</span> apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> nodejs yarn <span class="nt">--no-install-recommends</span> <span class="se">\
</span>  <span class="o">&amp;&amp;</span> gem <span class="nb">install </span>rails

<span class="k">WORKDIR</span><span class="s"> /app</span>

<span class="k">COPY</span><span class="s"> Gemfile Gemfile.lock /app/</span>
<span class="k">RUN </span>bundle <span class="nb">install</span>

<span class="k">CMD</span><span class="s"> ["/bin/bash"]</span>
</code></pre></div></div>

<p>Copy the following contents into <code class="highlighter-rouge">docker-compose.yml</code>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">postgres</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./tmp/db:/var/lib/postgresql/data</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">bash -c "rm -f tmp/pids/server.pid &amp;&amp; bundle exec rails s -p 3000 -b '0.0.0.0'"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">.:/app:delegated</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3'</span>
</code></pre></div></div>

<p>Initialize your git repository and make an initial commit:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Prepare the project directory"</span>
</code></pre></div></div>

<h3 id="create-the-rails-project">Create the rails project</h3>

<p>First build the <code class="highlighter-rouge">web</code> container image using <code class="highlighter-rouge">docker-compose</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose build web
</code></pre></div></div>

<p>Then run <code class="highlighter-rouge">rails new</code> to create the initial rails project:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose run web rails new <span class="nb">.</span> <span class="nt">--force</span> <span class="nt">--no-deps</span> <span class="nt">--database</span><span class="o">=</span>postgresql
</code></pre></div></div>

<p>Add everything to git and make a new commit:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Run 'docker-compose run web rails new . --force --no-deps --database=postgresql'"</span>
</code></pre></div></div>

<p>Finally, re-build the <code class="highlighter-rouge">web</code> container so that it now includes the project dependencies:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose build web
</code></pre></div></div>

<h3 id="configure-the-project-to-talk-to-the-database-container">Configure the project to talk to the database container</h3>

<p>Add the following to lines to the <code class="highlighter-rouge">default</code> section of <code class="highlighter-rouge">config.database.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="na">host</span><span class="pi">:</span> <span class="s">db</span>
  <span class="na">username</span><span class="pi">:</span> <span class="s">postgres</span>
</code></pre></div></div>

<p>Make a commit:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Configure the project to talk to the database container"</span>
</code></pre></div></div>

<h3 id="create-the-development-and-test-databases">Create the development and test databases</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose run web rails db:create
</code></pre></div></div>

<h3 id="ensure-dependencies-are-up-to-date">Ensure dependencies are up-to-date</h3>

<p>Periodically run the following two commands to ensure your ruby and node
dependencies are up to date:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose run web bundle <span class="nb">install
</span>docker-compose run web yarn <span class="nb">install</span>
</code></pre></div></div>

<p>If your project has outstanding changes as shown via <code class="highlighter-rouge">git status</code>, consider making a
commit at this time.</p>

<h3 id="start-the-development-server">Start the development server</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose up
</code></pre></div></div>

<p>At this point you <em>should</em> be able to access the “Yay! You’re on Rails!” page
via <a href="http://localhost:3000">http://localhost:3000</a>.</p>

<hr />

<h2 id="deploying-to-elastic-beanstalk">Deploying to Elastic Beanstalk</h2>

<p>At this point you should have a Rails project that you can successfully run in
development locally using Docker. In the following steps we’ll make the
necessary adjustments to configure the application for Amazon’s Elastic
Beanstalk, and then deploy it.</p>

<h3 id="configure-the-production-database">Configure the production database</h3>

<p>Update the lines in the <code class="highlighter-rouge">production</code> section of <code class="highlighter-rouge">config.database.yml</code> to include:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="na">database</span><span class="pi">:</span> <span class="s">&lt;%= ENV['RDS_DB_NAME'] %&gt;</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">&lt;%= ENV['RDS_HOSTNAME'] %&gt;</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">&lt;%= ENV['RDS_PASSWORD'] %&gt;</span>
  <span class="na">port</span><span class="pi">:</span> <span class="s">&lt;%= ENV['RDS_PORT'] %&gt;</span>
  <span class="na">username</span><span class="pi">:</span> <span class="s">&lt;%= ENV['RDS_USERNAME'] %&gt;</span>
</code></pre></div></div>

<h3 id="add-ebextensions-to-install-nodejs-and-yarn-on-each-application-server-instance">Add ebextensions to install nodejs and yarn on each application server instance:</h3>

<p>Create the directory and file</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> .ebextensions
<span class="nb">touch</span> .ebextensions/01_install_dependencies.config
</code></pre></div></div>

<p>Copy the following contents into <code class="highlighter-rouge">.ebextensions/01_install_dependencies.config</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>commands:
  install_nodejs:
    command: |
      curl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -
      yum -y install nodejs
  install_yarn:
    command: |
      sudo wget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo
      yum -y install yarn
</code></pre></div></div>

<h3 id="commit-the-changes">Commit the changes</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Prepare the application to deploy to Amazon's Elastic Beanstalk"</span>
</code></pre></div></div>

<h3 id="push-changes-to-github">Push changes to github</h3>

<p>If you haven’t already, add github as a remote:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add origin git@github.com:scalableinternetservices/PROJECTNAME.git
</code></pre></div></div>

<p>If this is your first time pushing to github, then run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin HEAD
</code></pre></div></div>

<p>Otherwise, you can simply run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push
</code></pre></div></div>

<h3 id="ssh-to-ec2cs291com-and-clone-your-repository">SSH to ec2.cs291.com and clone your repository</h3>

<p>In order to most easily create an elastic beanstalk deployment, we need to SSH
into <code class="highlighter-rouge">ec2.cs291.com</code>. You should have received the file <code class="highlighter-rouge">TEAMNAME.pem</code> via your
UCSB Google Drive. Assuming that file is in your downloads folder run the
following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-i</span> ~/Downloads/TEAMNAME.pem TEAMNAME@ec2.cs291.com
</code></pre></div></div>

<p>Once logged in, clone your repository using HTTPS (this will be a read-only
version of the project):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/scalableinternetservices/PROJECTNAME.git
</code></pre></div></div>

<h3 id="configure-elastic-beanstalk">Configure Elastic Beanstalk</h3>

<p>For each copy of your repository, you’ll need to do the following only once:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>PROJECTNAME
eb init <span class="nt">--keyname</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span> <span class="se">\</span>
  <span class="nt">--platform</span> <span class="s2">"64bit Amazon Linux 2018.03 v2.11.0 running Ruby 2.6 (Puma)"</span> <span class="se">\</span>
  <span class="nt">--region</span> us-west-2 PROJECTNAME
</code></pre></div></div>

<h3 id="create-a-deployment-using-the-minimum-necessary-resources">Create a deployment using the minimum necessary resources</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eb create --envvars SECRET_KEY_BASE=BADSECRET \
  -db.engine postgres -db.i db.t3.micro -db.user u \
  -i t3.micro --single YOURNAME
</code></pre></div></div>

<p>Enter a database password at the prompt (twice) and then take a break as
creating a deployment will take about ten minutes (the database is slow to
create).</p>

<h3 id="verify-the-deployment">Verify the deployment</h3>

<p>Run <code class="highlighter-rouge">eb status</code> to see the state of your deployment. The output should look
something like the following:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Environment details for: YOURNAME
  Application name: PROJECTNAME
  Region: us-west-2
  Deployed Version: app-6360-191104_223036
  Environment ID: e-yetvigtxpz
  Platform: arn:aws:elasticbeanstalk:us-west-2::platform/Puma with Ruby 2.6 running on 64bit Amazon Linux/2.11.0
  Tier: WebServer-Standard-1.0
  CNAME: YOURNAME.yxhf954iam.us-west-2.elasticbeanstalk.com
  Updated: 2019-11-04 22:40:16.929000+00:00
  Status: Ready
  Health: Green
</code></pre></div></div>

<p>The two most important parts are that <code class="highlighter-rouge">Status</code> is <code class="highlighter-rouge">Ready</code>, and <code class="highlighter-rouge">Health</code> is
<code class="highlighter-rouge">Green</code>. If not consult the logs <code class="highlighter-rouge">eb logs</code>.</p>

<p>To test if the deployment is successful copy the CNAME, and paste it into your
browser:
<a href="http://YOURNAME.yxhf954iam.us-west-2.elasticbeanstalk.com">http://YOURNAME.yxhf954iam.us-west-2.elasticbeanstalk.com</a></p>

<p>If you get a page stating <code class="highlighter-rouge">The page you were looking for doesn't exist.</code>, that
likely means things are working, and you have yet to set up a <code class="highlighter-rouge">root_route</code> on
your site (the “Yay! You’re on Rails!” doesn’t show up in <code class="highlighter-rouge">production</code> mode).</p>

<hr />

<h2 id="project-ideas">Project Ideas</h2>

<p>Please select from one of the following project ideas. You are free to modify
them as you wish, and can even come up with another project idea, but the
complexity must remain the same.</p>

<p>Please note all the user stories start off with unauthenticated users. That’s
because you want to deliver functionality first. Implementing authentication
first does not provide any value, if that authentication has no features behind
it. Complete a set of unauthenticated stories first, prior to introducing
authentication.</p>

<h3 id="a-social-network">A Social Network</h3>

<p>Minimum necessary models:</p>

<ul>
  <li>Post</li>
  <li>Comment (on Post)</li>
  <li>Profile</li>
  <li>Message (profile to profile)</li>
</ul>

<p>Initial user stories:</p>

<ol>
  <li>
    <p>As an unauthenticated user I can make a post so that I can share whatever
cool things I want.</p>
  </li>
  <li>
    <p>As an unauthenticated user I can view all the posts on the front page in
descending order so that I can see what new things people are sharing.</p>
  </li>
  <li>
    <p>As an unauthenticated user, I can comment on a post so that I can add
updates to existing content.</p>
  </li>
  <li>
    <p>As an authenticated user, my front page shows only posts made on my profile
so that I can see content specific to me.</p>
  </li>
  <li>
    <p>As as authenicated user, my posts and comments are attributable to me so
that others know what I’ve shared.</p>
  </li>
</ol>

<h3 id="an-online-store">An Online Store</h3>

<p>Minimum necessary models:</p>

<ul>
  <li>Item</li>
  <li>Order</li>
  <li>Rating (user to item)</li>
  <li>User</li>
</ul>

<p>Initial user stories:</p>

<ol>
  <li>
    <p>As an unauthenticated user I can list my item on the store so that I can
sell my products.</p>
  </li>
  <li>
    <p>As an unauthenticated user I can purchase an item from the store so that I
can obtain the things I desire.</p>
  </li>
  <li>
    <p>As an unauthenticated user I can view all the purchase histories so that I
can see what others have bought.</p>
  </li>
  <li>
    <p>As an unauthenticated user, I can rate an item that has been purchased so
that I can share my opinions of the item with others.</p>
  </li>
  <li>
    <p>As an authenticated user, only I can see my own orders in my order history
because I don’t want others to see what I’ve purchased.</p>
  </li>
</ol>

<h3 id="an-event-sharing-service">An Event Sharing Service</h3>

<p>Minimum necessary models:</p>

<ul>
  <li>Event</li>
  <li>RSVP</li>
  <li>Comment</li>
  <li>User</li>
  <li>Invite</li>
</ul>

<p>Initial user stories:</p>

<ol>
  <li>
    <p>As an unauthenticated user, I can create an event so that I can share with
others the details of the event I am hosting.</p>
  </li>
  <li>
    <p>As an unauthenticated user, I can comment on an event to share my enthusiasm
for said event.</p>
  </li>
  <li>
    <p>As an authenticated user, I can RSVP yes/no to events that I do [not] indend
to attend so that the host can better estimate how many people will show up.</p>
  </li>
  <li>
    <p>As an authenticated user, I can see the list of events that I have
previously attended so that I can recall my fond memories.</p>
  </li>
  <li>
    <p>As an event host, I can proactively invite users to my event, so that I can help spread the word.</p>
  </li>
</ol>


    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span12 footer navbar-inverse navbar-fixed-bottom">
      <p class="copyright">&copy;2019
        <a href="https://bryceboe.com">Bryce Boe</a>.
      </p>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

</body>

</html>

